<app-bdo-form-header [text]="title" [sub_text]="subTitle" [mode]="mode" [submit]="Submit" [disabled]="false"></app-bdo-form-header>
<app-request-header></app-request-header>
<mat-tab-group>
    <mat-tab label="Customer Profile">
        <app-customer-profile [displayMode]="displayMode" [userGroup]="userGroup"></app-customer-profile>
        <ng-container style="margin: 10px 0px">
            <span class="mat-title">Branch List</span>
        </ng-container>
        <mat-accordion>
            <mat-expansion-panel *ngFor="let items of dataSource | async">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        {{items.dbaName}}
                    </mat-panel-title>
                    <mat-panel-description>
                        <!-- DBA Name Ortigas -->
                    </mat-panel-description>
                </mat-expansion-panel-header>
                <ng-template matExpansionPanelContent>
                    <app-branch-form [branchId]="items.id" [displayMode]="displayMode" [userGroup]="userGroup"></app-branch-form>
                    <mat-card>
                        <mat-tab-group>
                            <mat-tab label="OIF">
                                <app-ocular-inspection-form [branchId]="items.id" [showButton]="false" [userGroup]="userGroup"></app-ocular-inspection-form>
                            </mat-tab>
                            <mat-tab label="POS">
                                <ng-template matTabContent>
                                    <app-pos-list [displayMode]="displayMode" [branchId]="items.id" [showAdd]="false"
                                        [showMid]="false" [showTerminalUpdate]="false" [showTerminalAdd]="false"
                                        [showDelete]="false" [showTerminalDelete]="false"></app-pos-list>
                                </ng-template>
                            </mat-tab>
                            <mat-tab label="MID">
                                <ng-template matTabContent>
                                    <app-mid [branchId]="items.id" [showAdd]="false" [showUpdate]="!displayMode"
                                        [showDelete]="false"></app-mid>
                                </ng-template>
                            </mat-tab>
                        </mat-tab-group>
                    </mat-card>
                </ng-template>
            </mat-expansion-panel>
        </mat-accordion>
    </mat-tab>
    <mat-tab label="MAEF">
        <ng-template matTabContent>
            <app-maef-form [displayMode]="displayMode"></app-maef-form>
        </ng-template>
    </mat-tab>
    <mat-tab label="Document Checklist">
        <ng-template matTabContent>
            <div style="overflow: hidden">
                <app-document-check-list [newAffiliationId]="requestId"></app-document-check-list>
            </div>
        </ng-template>
    </mat-tab>
</mat-tab-group>